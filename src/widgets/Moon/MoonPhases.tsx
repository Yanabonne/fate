import React, { useEffect } from "react";
import moonImg from "../../images/moon-2.png";

type TMoonData = {
  datetime: string;
  moonphase: number;
  moonrise: string;
  moonset: string;
  sunrise: string;
  sunset: string;
}[];

type TMoonProps = {
  geoData: TMoonData;
};

export default function MoonPhases({ geoData }: TMoonProps) {
  function getMoonName(phase: number) {
    return phase < 0.02 || phase > 0.98
      ? "–ù–æ–≤–æ–ª—É–Ω–∏–µ üåë"
      : phase >= 0.02 && phase <= 0.23
      ? "–†–∞—Å—Ç—É—â–∏–π —Å–µ—Ä–ø üåí"
      : phase > 0.23 && phase < 0.27
      ? "–ü–µ—Ä–≤–∞—è —á–µ—Ç–≤–µ—Ä—Ç—å üåì"
      : phase >= 0.27 && phase <= 0.48
      ? "–†–∞—Å—Ç—É—â–∞—è –ª—É–Ω–∞ üåî"
      : phase > 0.48 && phase < 0.52
      ? "–ü–æ–ª–Ω–æ–ª—É–Ω–∏–µ üåï"
      : phase >= 0.52 && phase <= 0.73
      ? "–£–±—ã–≤–∞—é—â–∞—è –ª—É–Ω–∞ üåñ"
      : phase > 0.73 && phase < 0.77
      ? "–ü–æ—Å–ª–µ–¥–Ω—è—è —á–µ—Ç–≤–µ—Ä—Ç—å üåó"
      : "–£–±—ã–≤–∞—é—â–∏–π —Å–µ—Ä–ø üåò";
    //   phase > 0.75 &&phase <=0.98 ?
  }

  function getMoonAdvice(phase: number) {
    return phase < 0.02 || phase > 0.98
      ? "–ù–æ–≤–æ–ª—É–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ü–∏–∫–ª –∏ –∑–Ω–∞–º–µ–Ω—É–µ—Ç –≤—Ä–µ–º—è –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∑–∞–∫–ª–∞–¥—ã–≤–∞–Ω–∏—è –Ω–∞–º–µ—Ä–µ–Ω–∏–π. –°—Ç–∞—Ä–∞–π—Ç–µ—Å—å –≤ —ç—Ç–æ—Ç –¥–µ–Ω—å: –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å, —Å–≥–ª–∞–∂–∏–≤–∞—Ç—å —É–≥–ª—ã, —Å–≤–µ—Å—Ç–∏ –∫ –º–∏–Ω–∏–º—É–º—É —Ç—è–∂–µ–ª—ã–π —Ç—Ä—É–¥, –±–æ–ª—å—à–µ –æ—Ç–¥—ã—Ö–∞—Ç—å, –Ω–µ –∫–æ–ø–∏—Ç—å –æ–±–∏–¥—ã –∏ –Ω–µ–¥–æ–≤–æ–ª—å—Å—Ç–≤–æ."
      : phase >= 0.02 && phase <= 0.23
      ? "–≠—Ç–∞ —Ñ–∞–∑–∞ –õ—É–Ω—ã —Å–∏–ª—å–Ω–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ–ª–æ–≤–µ–∫–∞. –ï—Å–ª–∏ –õ—É–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —ç—Ç–æ–π —Ñ–∞–∑–µ, –∑–Ω–∞—á–∏—Ç, –Ω–∞—Å—Ç–∞–ª –ø–µ—Ä–∏–æ–¥ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–∞–±–æ—Ç—ã. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å—Ç—Ä–æ–∏—Ç—å –ø–ª–∞–Ω—ã –∏ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –Ω—É–∂–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å —ç–Ω–µ—Ä–≥–∏–∏ –ø–æ–º–æ–≥—É—Ç –∞–∫—Ç–∏–≤–Ω–æ–µ –≤—Ä–µ–º—è–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ, —É–≤–ª–µ—á–µ–Ω–∏—è, —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ."
      : phase > 0.23 && phase < 0.27
      ? "–≠—Ç–∞ —Ñ–∞–∑–∞ –õ—É–Ω—ã —Å–∏–ª—å–Ω–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ–ª–æ–≤–µ–∫–∞. –í —ç—Ç—É —Ñ–∞–∑—É —Ü–∏–∫–ª–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–µ—Å—Ç–∏ –∞–∫—Ç–∏–≤–Ω—É—é –∂–∏–∑–Ω—å, –Ω–∞—á–∞—Ç—å –¥–≤–∏–∂–µ–Ω–∏–µ –∫ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º —Ü–µ–ª—è–º –∏ —É–≤–µ–ª–∏—á–∏—Ç—å –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã. –ï—Å–ª–∏ –Ω–µ –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ—é —ç–Ω–µ—Ä–≥–∏—é –≤ –Ω—É–∂–Ω–æ–µ —Ä—É—Å–ª–æ, –µ—Å—Ç—å —Ä–∏—Å–∫ —Å—Ç–∞—Ç—å –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–º –∏ —Ä–∞–∑–¥—Ä–∞–∂–∏—Ç–µ–ª—å–Ω—ã–º. "
      : phase >= 0.27 && phase <= 0.48
      ? "–í —ç—Ç—É —Ñ–∞–∑—É –ø—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–Ω–µ—à–Ω–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è. –ü–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –≤ –ø–µ—Ä–≤—É—é —á–µ—Ç–≤–µ—Ä—Ç—å —Ü–µ–ª–∏ —Ç—Ä–µ–±—É—é—Ç –∏—Ö –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è. –¢–∞–∫–∂–µ –≤ —ç—Ç–æ—Ç –ø–µ—Ä–∏–æ–¥ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–µ —Ç–µ–ª–æ –ø—Ä–µ–¥—Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–æ –∫ —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –æ—á–∏—â–µ–Ω–∏—é."
      : phase > 0.48 && phase < 0.52
      ? "–ü–æ–ª–Ω–æ–ª—É–Ω–∏–µ —Å–∏–ª—å–Ω–æ –≤–ª–∏—è–µ—Ç –Ω–∞ —á–µ–ª–æ–≤–µ–∫–∞. –°—Ç–∞—Ä–∞–π—Ç–µ—Å—å –Ω–µ —Ä—É–≥–∞—Ç—å—Å—è –∏ –Ω–µ –≤—Å—Ç—É–ø–∞—Ç—å –≤ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã, –≤–µ–¥—å –≤ —ç—Ç–æ—Ç –ø–µ—Ä–∏–æ–¥ –ª—é–¥–∏ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–æ–Ω –Ω–∞–ø—Ä—è–∂–µ–Ω. –ü–æ–ª–Ω–æ–ª—É–Ω–∏–µ, —Å –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã, ‚Äî —ç—Ç–æ –≤—Ä–µ–º—è –æ—Ç–∫—Ä–æ–≤–µ–Ω–∏–π, –Ω–∞–≥—Ä–∞–¥ –∏, –∫–æ–Ω–µ—á–Ω–æ –∂–µ, –ø–µ—Ä–µ–º–µ–Ω. –í–æ—Ç —Ç–æ–≥–¥–∞ –∏ —Ä–∞—Å–∫—Ä–æ—é—Ç—Å—è –ø–ª–æ–¥—ã –≤–∞—à–µ–≥–æ —Ç—Ä—É–¥–∞. "
      : phase >= 0.52 && phase <= 0.73
      ? "–≠—Ç—É —Ñ–∞–∑—É –Ω–∞–∑—ã–≤–∞—é—Ç —Ñ–∞–∑–æ–π –ø–∞—Å—Å–∏–≤–Ω–æ–≥–æ –≤–Ω–µ—à–Ω–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è. –≠—Ç–∞ —Ñ–∞–∑–∞ –õ—É–Ω—ã –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ–ª–æ–≤–µ–∫–∞. –ï—Å–ª–∏ —Å–µ–≥–æ–¥–Ω—è —Ç—Ä–µ—Ç—å—è —á–µ—Ç–≤–µ—Ä—Ç—å, —Ç–æ, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –≤–∞—à —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–æ–Ω —Å—Ç–∞–±–∏–ª—å–Ω—ã–π, –∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—Ä–∏–ø–æ–¥–Ω—è—Ç–æ–µ. –¢–∞–∫–∂–µ —ç—Ç–æ –±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–æ—Å—Ç–∏—Ç—å —Å–≤–æ–∏—Ö –≤—Ä–∞–≥–æ–≤, –æ—Ç–¥–∞—Ç—å –¥–æ–ª–≥–∏ –∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å –¥–µ–ª–∞. "
      : phase > 0.73 && phase < 0.77
      ? "–°—á–∏—Ç–∞–µ—Ç—Å—è, —á—Ç–æ —ç—Ç–æ –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö —Å–ø–æ–∫–æ–π–Ω—ã—Ö –∏ –≥–∞—Ä–º–æ–Ω–∏—á–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤ —Ü–∏–∫–ª–∞. –õ—É–Ω–Ω–∞—è —ç–Ω–µ—Ä–≥–∏—è —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç –∏–∑–±–∞–≤–ª–µ–Ω–∏—é –æ—Ç –Ω–µ–Ω—É–∂–Ω–æ–≥–æ –∏ –≥–∞—Ä–º–æ–Ω–∏–∑–∞—Ü–∏–∏ –∂–∏–∑–Ω–∏."
      : "–í—Ä–µ–º—è –ø–æ–∑–Ω–∞–Ω–∏—è —Å–µ–±—è –æ—Ç —Ç—Ä–µ—Ç—å–µ–π —á–µ—Ç–≤–µ—Ä—Ç–∏ –¥–æ –Ω–æ–≤–æ–ª—É–Ω–∏—è ‚Äî –ø–µ—Ä–∏–æ–¥ –ø–∞—Å—Å–∏–≤–Ω–æ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è. –í—ã —É–∂–µ –Ω–∞–±–ª—é–¥–∞–µ—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç —Å–≤–æ–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π, –ø–æ—ç—Ç–æ–º—É –Ω–∞—Å—Ç–∞–ª –º–æ–º–µ–Ω—Ç –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–ª–æ–¥—ã —Ä–∞–±–æ—Ç—ã –∏ –ø–æ–¥–≤–µ—Å—Ç–∏ –∏—Ç–æ–≥–∏. –¢–µ–ø–µ—Ä—å —É–º–µ—Å—Ç–Ω–æ –≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—é –Ω–æ–≤–æ–≥–æ –ø–ª–∞–Ω–∞ –Ω–∞ –±—É–¥—É—â–∏–π –º–µ—Å—è—Ü. –í —ç—Ç–æ—Ç –ø–µ—Ä–∏–æ–¥ –Ω–µ –ø—Ä–æ–≤–æ—Ü–∏—Ä—É–π—Ç–µ —Å—Å–æ—Ä—ã, –≤–æ–∑–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ—Å—å –æ—Ç —á—Ä–µ–∑–º–µ—Ä–Ω–æ–≥–æ –æ–±—â–µ–Ω–∏—è, —ç—Ç–æ –º–æ–∂–µ—Ç –≤–∞—Å –æ–ø—É—Å—Ç–æ—à–∏—Ç—å.";
    //   phase > 0.75 &&phase <=0.98 ?
  }

  return (
    <>
      <h1 className="moon__title">–§–∞–∑—ã –ª—É–Ω—ã</h1>
      <h1 className="moon__subtitle">
        –°–µ–≥–æ–¥–Ω—è: {new Date(geoData[0].datetime).toLocaleDateString()}
      </h1>
      <div className="moon_curved">
        <div className="moon__curved_1"></div>
        <div className="moon__curved_2"></div>
      </div>
      <div className="moon__container moon__container_purple">
        <section className="moon__section moon__section_main">
          <div className="moon__info">
            <h2 className="moon__title-2">
              {getMoonName(geoData[0].moonphase)}
            </h2>
            {/* <p className="moon__text">–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç: {geoData[0].moonphase}</p> */}
            <p className="moon__text">
              <span className="moon__text_span">–í–æ—Å—Ö–æ–¥ —Å–æ–ª–Ω—Ü–∞:</span>{" "}
              {geoData[0].sunrise}
            </p>
            <p className="moon__text">
              <span className="moon__text_span">–ó–∞—Ö–æ–¥ —Å–æ–ª–Ω—Ü–∞:</span>{" "}
              {geoData[0].sunset}
            </p>
            <p className="moon__text">
              <span className="moon__text_span">–í–æ—Å—Ö–æ–¥ –ª—É–Ω—ã:</span>{" "}
              {geoData[0].moonrise}
            </p>
            <p className="moon__text">
              <span className="moon__text_span">–ó–∞—Ö–æ–¥ –ª—É–Ω—ã:</span>{" "}
              {geoData[0].moonset}
            </p>
            <p className="moon__text">
              <span className="moon__text_span">–û —Ñ–∞–∑–µ:</span>{" "}
              {getMoonAdvice(geoData[0].moonphase)}
            </p>
          </div>
          <img src={moonImg} alt="–ü–æ–ª–Ω–∞—è –ª—É–Ω–∞" className="moon__img"></img>
        </section>
      </div>
      <div className="moon__container moon__container_beige">
        <section className="moon__section moon__section_calendar">
          <h2 className="moon__title-2">–î–≤–µ –Ω–µ–¥–µ–ª–∏</h2>
          <div className="moon__scroll">
            <div className="moon__grid moon__grid_main">
              <p>–î–∞—Ç–∞</p>
              <p>–§–∞–∑–∞ –ª—É–Ω—ã</p>
              {/* <p>–û —Ñ–∞–∑–µ –ª—É–Ω—ã</p> */}
              <p>–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç</p>
              <p>–í–æ—Å—Ö–æ–¥ —Å–æ–ª–Ω—Ü–∞</p>
              <p>–ó–∞—Ö–æ–¥ —Å–æ–ª–Ω—Ü–∞</p>
              <p>–í–æ—Å—Ö–æ–¥ –ª—É–Ω—ã</p>
              <p>–ó–∞—Ö–æ–¥ –ª—É–Ω—ã</p>
            </div>
            {geoData.slice(1).map((item) => (
              <div className="moon__grid">
                <p>{new Date(item.datetime).toLocaleDateString()}</p>
                <p>{getMoonName(item.moonphase)}</p>
                {/* <p>{getMoonAdvice(item.moonphase)}</p> */}
                <p>{item.moonphase}</p>
                <p>{item.sunrise}</p>
                <p>{item.sunset}</p>
                <p>{item.moonrise}</p>
                <p>{item.moonset}</p>
              </div>
            ))}
          </div>
        </section>
      </div>
      <div className="moon_curved_bottom">
        <div className="moon__curved_3"></div>
        <div className="moon__curved_4"></div>
      </div>
    </>
  );
}
